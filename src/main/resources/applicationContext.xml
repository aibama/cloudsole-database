<?xml  version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:context="http://www.springframework.org/schema/context"
       xmlns:mvc="http://www.springframework.org/schema/mvc"
       xmlns:fss="http://www.salesforce.com/schema/springsecurity"
       xmlns:security="http://www.springframework.org/schema/security"
       xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.1.xsd
                           http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.1.xsd
                           http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-3.1.xsd
                           http://www.salesforce.com/schema/springsecurity http://www.salesforce.com/schema/springsecurity/force-springsecurity-1.3.xsd
                           http://www.springframework.org/schema/security http://www.springframework.org/schema/security/spring-security-3.0.xsd">

    <context:annotation-config />
    <context:component-scan base-package="com.example" />
    
    <mvc:annotation-driven/>
    <mvc:resources mapping="/public/**" location="classpath:/public/"/>

    <bean id="jspViewResolver" class="org.springframework.web.servlet.view.InternalResourceViewResolver">
        <property name="viewClass" value="org.springframework.web.servlet.view.JstlView" />
        <property name="prefix" value="/WEB-INF/jsp/" />
        <property name="suffix" value=".jsp" />
        <property name="redirectHttp10Compatible" value="false" />
    </bean>
    

    <fss:oauth>
        <fss:oauthInfo endpoint="http://login.salesforce.com"
                       oauth-key="3MVG9ytVT1SanXDnFpH_pFaMj05fwWmRKO_6yE6wtB1dan.I4Gd5B6YfEc6zBw48fIkmTzdVoKzy205qZrWb9"
                       oauth-secret="333886780207357967"/>
    </fss:oauth>
    
    <security:http use-expressions="true">
        <security:intercept-url pattern="/login/*" access="isAuthenticated()" />
    </security:http>
    
    <bean id="mailSender" class="org.springframework.mail.javamail.JavaMailSenderImpl">
  		<property name="host"><value>smtp.gmail.com"</value></property>
  		<property name="port"><value>587</value></property>
        <property name="protocol"><value>smtp</value></property>
        <property name="username"><value></value></property>
        <property name="password"><value></value></property>
        <property name="javaMailProperties">
            <props>
                <prop key="mail.smtp.auth">true</prop>
                <prop key="mail.smtp.starttls.enable">true</prop>
                <prop key="mail.smtp.quitwait">false</prop>
            </props>
        </property>
	</bean>	

	<!-- this is a template message that we can pre-load with default state -->
	<bean id="templateMessage" class="org.springframework.mail.SimpleMailMessage">
 	 	<property name="from" value="thysmichels@gmail.com"/>
  		<property name="subject" value="RocketForce Contact Me"/>
	</bean>
    
    <bean id="contactMeEmail" class="com.example.service.EmailServiceImpl">
  		<property name="mailSender" ref="mailSender"/>
  		<property name="templateMessage" ref="templateMessage"/>
	</bean>

</beans>